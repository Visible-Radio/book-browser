{"version":3,"sources":["components/FancyButton.js","components/BookCard.js","components/CardWrapper.js","styles/PageNavStyles.js","components/PageNav.js","App.js","utils/UseFetch.js","reportWebVitals.js","index.js"],"names":["FancyButton","styled","button","props","isOpen","BookCardStyles","div","color","BookCard","book","resultNumber","useState","setIsOpen","title","author","author_name","publishYear","publish_year","coverOLID","cover_edition_key","coverURL","className","src","alt","length","sort","map","year","i","onClick","CardWrapperStyles","CardWrapper","children","PageNavStyles","nav","PageNav","pageJump","changePage","currentPage","pageCount","value","disabled","App","AppStyles","url","data","setData","loading","setLoading","useEffect","a","fetch","then","resp","json","response","useFetch","searchResults","loadingSearchResults","books","setBooks","setCurrentPage","resultsPerPage","setPageCount","firstIndex","lastIndex","docs","Math","ceil","slice","event","destination","target","direction","Number","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","GlobalStyles","createGlobalStyle","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.548b4f6f.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const FancyButton = styled.button`\n  position: relative;\n  width: 2.5rem;\n  height: 2.5rem;\n  margin: 0.75rem;\n  align-self: start;\n  border: none;\n  font-size: 2.5rem;\n  padding: 0;\n  background-color: transparent;\n  transition: all 0.2s;\n\n  &::after, &::before {\n    content: '';\n    display: inline-block;\n    background-color: var(--textCol);\n    position: absolute;\n  }\n\n  // horizontal\n  &::after {\n    top: 16px;\n    left: 3px;\n    width: 2rem;\n    height: 0.4rem;\n  }\n\n  // vertical\n  &::before {\n    top: 3px;\n    left: 16px;\n    width: 0.4rem;\n    height: 2rem;\n    visibility: ${props => props.isOpen ? 'hidden' : 'visible'};\n  }\n\n  &:focus {\n    outline: 2px solid var(--textCol);\n  }\n\n  &:hover {\n    cursor: pointer;\n    filter: brightness(2.25);\n    background: none;\n  }\n\n  &:active {\n    transform: scale(0.5);\n  }\n\n`;","import { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { FancyButton } from \"./FancyButton\";\n\nconst BookCardStyles = styled.div`\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n  grid-gap: 1rem;\n\n  background-color: var(--backgroundColBright);\n  color: var(--textCol);\n  box-shadow: var(--boxShadow);\n  padding: var(--pad);\n  border-radius: var(--borad);\n\n  min-height: fit-content;\n  margin: 1rem 0 0 0;\n  width: 100%;\n\n  img {\n    width: 180px;\n    max-height: 270px;\n    height: auto;\n    object-fit: cover;\n    box-shadow: var(--boxShadow);\n  }\n\n  .bookWrapper {\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: flex-start;\n    height: fit-content;\n    max-width: 180px;\n    max-height: 270px;\n  }\n\n  .wrapperColumn {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    h3 {\n      margin-top: 0;\n    }\n  }\n\n  .rightColumn {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  p {\n    margin: 0.25rem 0;\n  }\n\n  .imagePlaceHolder {\n    width: 180px;\n    height: 270px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: ${props => props.color};\n    color: var(--backgroundCol);\n    font-weight: 700;\n    padding: 0.5rem;\n    font-size: 0.75rem;\n    box-shadow: var(--boxShadow);\n  }\n\n  @media (max-width: 500px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst BookCard = ({ book, resultNumber }) => {\n  const [ isOpen, setIsOpen ] = useState(false);\n\n  const toggleOpen = () => {\n    setIsOpen(!isOpen);\n  }\n\n  const { title, author_name: author, publish_year: publishYear, cover_edition_key: coverOLID } = book;\n\n  const coverURL = coverOLID ? `https://covers.openlibrary.org/b/olid/${coverOLID}-M.jpg` : null;\n\n  const color = 'rgb(30,40,50)'\n\n\n  return (\n    <BookCardStyles color={color}>\n        <div className=\"bookWrapper\">\n          { coverURL &&\n            <img src={coverURL} alt={`Cover of the book ${title}`}></img>\n          }\n          { !coverURL &&\n            <div className=\"imagePlaceHolder\">\n              <p>\n              {title}\n              </p>\n            </div>\n          }\n        </div>\n      <ul className=\"wrapperColumn\">\n        <li><h3>{title}</h3></li>\n        <li><p>{author}</p></li>\n        { publishYear && publishYear.length > 1\n          ?\n            <>\n              <li><p>First publication: {publishYear && publishYear.sort()[0]}</p></li>\n              <li><p>Most Recent publication: {publishYear && publishYear.sort()[publishYear.length - 1]}</p></li>\n              { publishYear.length > 2 &&\n                <>\n                  <li><p>This book has {publishYear.length} publication dates on record. Click + to see them all.</p></li>\n                  { isOpen &&\n                    <ul>\n                    {publishYear.map((year, i) => {\n                      return <li key={i}>{year}</li>\n                    })}\n                    </ul>\n                  }\n                </>\n              }\n            </>\n          : <li><p>{publishYear && publishYear[0]}</p></li>\n        }\n      </ul>\n      <div className=\"rightColumn\">\n        { publishYear && publishYear.length > 2 &&\n          <FancyButton onClick={toggleOpen} isOpen={isOpen}/>\n        }\n        <p></p>\n        <p>Result no. {resultNumber+1}</p>\n      </div>\n    </BookCardStyles>\n  )\n}\n\nexport default BookCard\n","import styled from \"styled-components\"\n\nconst CardWrapperStyles = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  margin: 0;\n  padding: 1rem;\n  overflow-y: scroll;\n\n`;\n\nconst CardWrapper = ({ children }) => {\n  return (\n    <CardWrapperStyles>\n      {children}\n    </CardWrapperStyles>\n  )\n}\n\nexport default CardWrapper\n","import styled from \"styled-components\";\n\nexport const PageNavStyles = styled.nav`\n  width: 100%;\n  display: flex;\n  flex-flow: row wrap;\n  align-items: center;\n  justify-content: center;\n  border-top: 2px solid var(--myGrey);\n\n\n  button {\n    transform: translateY(-62%);\n    border: 2px solid var(--textCol);\n    background-color: var(--backgroundColBright);\n    font-size: 1rem;\n    font-family: 'Raleway', sans-serif;\n    padding: 1rem;\n    margin: 0.5rem;\n    border-radius: var(--borad);\n    transition: all 0.25s;\n    width: 7rem;\n    box-shadow: var(--boxShadow);\n\n    &:disabled {\n      filter: contrast(0.15) brightness(1.2);\n    }\n\n    &:hover:not(:disabled) {\n      cursor: pointer;\n      background-color: var(--textCol);\n      color: var(--backgroundCol);\n    }\n\n    &:focus {\n      outline: 2px solid var(--textCol);\n      outline-offset: 2px;\n    }\n\n    &:active {\n      transform: translateY(-50%);\n    }\n  }\n\n  div {\n    width: 8rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  span {\n    min-width: max-content;\n  }\n`;","import { PageNavStyles } from \"../styles/PageNavStyles\"\n\nconst PageNav = ({ pageJump, changePage, currentPage, pageCount}) => {\n  return (\n    <PageNavStyles>\n      <button value={'start'} onClick={pageJump} disabled={currentPage === 0 && true}>First</button>\n      <button value={-1} onClick={changePage} disabled={currentPage === 0 && true}>Previous</button>\n      <div>\n        <span>Page {currentPage + 1} of {pageCount}</span>\n      </div>\n      <button value={1} onClick={changePage } disabled={currentPage === pageCount - 1 && true}>Next</button>\n      <button value={'end'} onClick={pageJump} disabled={currentPage === pageCount - 1 && true}>Last</button>\n    </PageNavStyles>\n  )\n}\n\nexport default PageNav\n","import { useEffect, useState } from 'react';\nimport './App.css';\nimport BookCard from './components/BookCard';\nimport CardWrapper from './components/CardWrapper';\nimport PageNav from './components/PageNav';\nimport useFetch from './utils/UseFetch';\n\n// the ISBN endpoint provided in the specs has CORS issues when a request is made from the react\n// development server\n// const url_ISBN = `http://openlibrary.org/api/volumes/brief/isbn/${isbn}.json`;\n// const proxy = \"https://cors-anywhere.herokuapp.com/\";\n\nfunction App({ AppStyles }) {\n  // user search\n  const searchURL = \"https://openlibrary.org/search.json?q=underworld\";\n\n  const [ searchResults, loadingSearchResults ] = useFetch(searchURL);\n  const [ books, setBooks ] = useState([]);\n\n\n  const [ currentPage, setCurrentPage ] = useState(0);\n  const [ resultsPerPage] = useState(10);\n  const [pageCount, setPageCount ] = useState(null);\n  const firstIndex = currentPage * resultsPerPage;\n  const lastIndex = firstIndex + resultsPerPage;\n\n  useEffect(() => {\n    if (!loadingSearchResults) {\n      setBooks(searchResults.docs);\n      setPageCount(Math.ceil(searchResults.docs.length / resultsPerPage));\n    }\n  },[loadingSearchResults, resultsPerPage, searchResults.docs]);\n\n  const changePage = (event) => {\n    const direction = Number(event.target.value);\n    if (currentPage < pageCount - 1 && direction === 1) {\n      setCurrentPage(currentPage + direction);\n    } else if ( currentPage > 0 && direction === -1 ) {\n      setCurrentPage(currentPage + direction);\n    }\n  }\n\n  const pageJump = (event) => {\n    const destination = event.target.value === 'start' ? 0 : pageCount - 1;\n    setCurrentPage(destination);\n  }\n\n  return (\n    <AppStyles>\n      <CardWrapper>\n        {\n          books.slice(firstIndex, lastIndex).map((book, i) => {\n            return <BookCard resultNumber={i + firstIndex} book={book} key={i} />\n          })\n        }\n      </CardWrapper>\n      <PageNav pageJump={pageJump} changePage={changePage} pageCount={pageCount} currentPage={currentPage}/>\n    </AppStyles>\n  );\n}\n\nexport default App;\n","import { useEffect, useState } from \"react\";\n\nexport default function useFetch(url) {\n  // in development route requests through here...ugh.\n  // https://cors-anywhere.herokuapp.com/\n  // also found this endpoint which doesn't have cors issues\n  // const byISBN = `https://openlibrary.org/isbn/${isbn}.json`;\n\n  const [ data, setData ] = useState([]);\n  const [ loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      const response = await fetch(url).then(resp => resp.json());\n      setData(response);\n      setLoading(false);\n    })();\n  },[url])\n\n  return [ data, loading ];\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport styled, { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyles = createGlobalStyle`\n  :root {\n    --backgroundCol: rgb(220,220,220);\n    --backgroundColBright: rgb(240,240,240);\n    --textCol: rgb(60,60,60);\n    --myGrey: rgb(190,190,190);\n    --boxShadow: 0 0 2px 2px rgba(0,0,0,0.1), 3px 3px 3px 3px rgba(0,0,0,0.2);\n    --pad: 2rem;\n    --borad: 2rem;\n    --maxWidth: 1200px;\n  }\n\n  html, body {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    width: 100vw;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  li {\n    list-style: none;\n  }\n\n  ul {\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    background: var(--backgroundCol);\n    color: var(--textCol);\n    font-family: 'Raleway', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    display: flex;\n    justify-content: center;\n  }\n`;\n\nconst AppStyles = styled.div`\n  width: 100vw;\n  height: 100vh;\n  max-width: var(--maxWidth);\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  grid-template-columns: 1fr;\n`;\n\nReactDOM.render(\n  <React.StrictMode>\n    <GlobalStyles />\n    <App AppStyles={AppStyles}/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}