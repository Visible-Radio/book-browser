(this["webpackJsonpbook-browser"]=this["webpackJsonpbook-browser"]||[]).push([[0],{22:function(n,e,t){},23:function(n,e,t){},28:function(n,e,t){"use strict";t.r(e);var r=t(3),i=t(1),o=t.n(i),a=t(13),c=t.n(a),s=(t(22),t(8)),l=t(2),d=(t(23),t(4));var b=t(10),u=t.n(b),h=t(14);function j(n){var e=Object(i.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1],a=Object(i.useState)(!0),c=Object(l.a)(a,2),s=c[0],d=c[1];return Object(i.useEffect)((function(){Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,fetch(n).then((function(n){return n.json()}));case 3:t=e.sent,o(t),d(!1);case 6:case"end":return e.stop()}}),e)})))()}),[n]),[r,s]}var p,g,x,f,m=t(0),O=d.b.button(p||(p=Object(r.a)(["\n  position: relative;\n  width: 2.5rem;\n  height: 2.5rem;\n  margin: 0.75rem;\n  align-self: start;\n  border: none;\n  font-size: 2.5rem;\n  padding: 0;\n  background-color: transparent;\n  transition: all 0.2s;\n\n  &::after, &::before {\n    content: '';\n    display: inline-block;\n    background-color: var(--textCol);\n    position: absolute;\n  }\n\n  // horizontal\n  &::after {\n    top: 16px;\n    left: 3px;\n    width: 2rem;\n    height: 0.4rem;\n  }\n\n  // vertical\n  &::before {\n    top: 3px;\n    left: 16px;\n    width: 0.4rem;\n    height: 2rem;\n    visibility: ",";\n  }\n\n  &:focus {\n    outline: 2px solid var(--textCol);\n  }\n\n  &:hover {\n    cursor: pointer;\n    filter: brightness(2.25);\n    background: none;\n  }\n\n  &:active {\n    transform: scale(0.5);\n  }\n\n"])),(function(n){return n.isOpen?"hidden":"visible"})),v=d.b.div(g||(g=Object(r.a)(["\n  display: grid;\n  grid-template-columns: auto 1fr auto;\n  grid-gap: 1rem;\n\n  background-color: var(--backgroundColBright);\n  color: var(--textCol);\n  box-shadow: var(--boxShadow);\n  padding: var(--pad);\n  border-radius: var(--borad);\n\n  min-height: fit-content;\n  margin: 1rem 0 0 0;\n  width: 100%;\n\n  img {\n    width: 180px;\n    max-height: 270px;\n    height: auto;\n    object-fit: cover;\n    box-shadow: var(--boxShadow);\n  }\n\n  .bookWrapper {\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: flex-start;\n    height: fit-content;\n    max-width: 180px;\n    max-height: 270px;\n  }\n\n  .wrapperColumn {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    h3 {\n      margin-top: 0;\n    }\n  }\n\n  .rightColumn {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  p {\n    margin: 0.25rem 0;\n  }\n\n  .imagePlaceHolder {\n    width: 180px;\n    height: 270px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: ",";\n    color: var(--backgroundCol);\n    font-weight: 700;\n    padding: 0.5rem;\n    font-size: 0.75rem;\n    box-shadow: var(--boxShadow);\n  }\n\n  .imSad {\n    background-color: black;\n    color: white;\n    border-radius: var(--borad);\n    padding: 1rem;\n    margin-top: 1rem;\n  }\n\n  @media (max-width: 500px) {\n    grid-template-columns: 1fr;\n  }\n"])),(function(n){return n.color})),y=function(n){var e=n.book,t=n.resultNumber,r=Object(i.useState)(!1),o=Object(l.a)(r,2),a=o[0],c=o[1],d=Object(i.useState)(!1),b=Object(l.a)(d,2),u=(b[0],b[1],e.title),h=e.author_name,j=(e.publish_year,e.cover_edition_key),p=e.publish_date,g=e.edition_key,x=j?"https://covers.openlibrary.org/b/olid/".concat(j,"-M.jpg"):null,f=p?Object(s.a)(p).map((function(n){return{dateString:n,dateValue:Date.parse(n)||Date.parse(n.trim().slice(-4))}})).sort((function(n,e){return n.dateValue-e.dateValue})).map((function(n){return n.dateString})):null;return Object(m.jsxs)(v,{color:"rgb(30,40,50)",children:[Object(m.jsxs)("div",{className:"bookWrapper",children:[x&&Object(m.jsx)("img",{src:x,alt:"Cover of the book ".concat(u)}),!x&&Object(m.jsx)("div",{className:"imagePlaceHolder",children:Object(m.jsx)("p",{children:u})})]}),Object(m.jsxs)("ul",{className:"wrapperColumn",children:[Object(m.jsx)("li",{children:Object(m.jsx)("h3",{children:u})}),Object(m.jsx)("li",{children:Object(m.jsx)("p",{children:Array.isArray(h)?h.join(", "):h})}),p&&p.length>1?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{children:Object(m.jsxs)("p",{children:["First publication: ",p&&f[0]]})}),Object(m.jsx)("li",{children:Object(m.jsxs)("p",{children:["Most Recent publication: ",p&&f[f.length-1]]})}),p.length>2&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{children:Object(m.jsxs)("p",{children:["This record refers to ",p.length," publication dates. Click + to see them all."]})}),a&&Object(m.jsx)("ul",{children:f.map((function(n,e){return Object(m.jsx)("li",{children:n},e)}))})]})]}):Object(m.jsx)("li",{children:Object(m.jsx)("p",{children:p&&f[0]})}),g&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("li",{children:Object(m.jsxs)("p",{children:["This record refers to ",g.length," edition",g.length>1?"s":"","."]})}),a&&Object(m.jsxs)("ul",{children:[g.map((function(n,e){return Object(m.jsx)("li",{value:"OLID",onClick:function(){return console.log(n)},children:n},e+n)})),Object(m.jsxs)("li",{className:"imSad",children:[Object(m.jsx)("p",{children:"The API endpoint that serves data for specific edition IDs has not set the Access-Control-Allow-Origin CORS header."}),Object(m.jsx)("p",{children:"Without building some middleware I cannot access the data necessary to render cards for specific editions."}),Object(m.jsx)("p",{children:"Try this in the console:"}),Object(m.jsx)("p",{children:Object(m.jsx)("code",{children:'fetch("https://openlibrary.org/api/volumes/brief/olid/OL30597611M.json").then(resp => resp.json()).then(console.log);'})})]})]})]})]}),Object(m.jsxs)("div",{className:"rightColumn",children:[p&&p.length>2&&Object(m.jsx)(O,{onClick:function(){c(!a)},isOpen:a}),Object(m.jsx)("p",{}),Object(m.jsxs)("p",{children:["Result no. ",t+1]})]})]})},w=d.b.div(x||(x=Object(r.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  margin: 0;\n  padding: 1rem;\n  overflow-y: scroll;\n\n"]))),k=function(n){var e=n.children;return Object(m.jsx)(w,{children:e})},C=d.b.nav(f||(f=Object(r.a)(["\n  width: 100%;\n  display: flex;\n  flex-flow: row wrap;\n  align-items: center;\n  justify-content: center;\n  border-top: 2px solid var(--myGrey);\n\n\n  button {\n    transform: translateY(-62%);\n    border: 2px solid var(--textCol);\n    background-color: var(--backgroundColBright);\n    font-size: 1rem;\n    font-family: 'Raleway', sans-serif;\n    padding: 1rem;\n    margin: 0.5rem;\n    border-radius: var(--borad);\n    transition: all 0.25s;\n    width: 7rem;\n    box-shadow: var(--boxShadow);\n\n    &:disabled {\n      filter: contrast(0.15) brightness(1.2);\n    }\n\n    &:hover:not(:disabled) {\n      cursor: pointer;\n      background-color: var(--textCol);\n      color: var(--backgroundCol);\n    }\n\n    &:focus {\n      outline: 2px solid var(--textCol);\n      outline-offset: 2px;\n    }\n\n    &:active {\n      transform: translateY(-50%);\n    }\n  }\n\n  div {\n    width: 8rem;\n    display: flex;\n    justify-content: center;\n  }\n\n  span {\n    min-width: max-content;\n  }\n"]))),S=function(n){var e=n.pageJump,t=n.changePage,r=n.currentPage,i=n.pageCount;return Object(m.jsxs)(C,{children:[Object(m.jsx)("button",{value:"start",onClick:e,disabled:0===r&&!0,children:"First"}),Object(m.jsx)("button",{value:-1,onClick:t,disabled:0===r&&!0,children:"Previous"}),Object(m.jsx)("div",{children:Object(m.jsxs)("span",{children:["Page ",r+1," of ",i]})}),Object(m.jsx)("button",{value:1,onClick:t,disabled:r===i-1&&!0,children:"Next"}),Object(m.jsx)("button",{value:"end",onClick:e,disabled:r===i-1&&!0,children:"Last"})]})};var _,N,P=function(n){var e=n.AppStyles,t=j("https://openlibrary.org/search.json?q=the+great+gatsby&limit=100&offset=0"),r=Object(l.a)(t,2),o=r[0],a=r[1],c=Object(i.useState)([]),d=Object(l.a)(c,2),b=d[0],u=d[1],h=Object(i.useState)(0),p=Object(l.a)(h,2),g=p[0],x=p[1],f=Object(i.useState)(10),O=Object(l.a)(f,1)[0],v=Object(i.useState)(null),w=Object(l.a)(v,2),C=w[0],_=w[1],N=g*O,P=N+O,F=Object(i.useState)(-1),z=Object(l.a)(F,2),A=z[0],I=(z[1],Object(i.useState)(!0)),M=Object(l.a)(I,2),B=M[0];M[1],Object(i.useEffect)((function(){a||(u(o.docs),_(Math.ceil(o.docs.length/O)))}),[a,O,o.docs]);var D=function(n){var e=[],t=[];return n.forEach((function(n){n.hasOwnProperty("publish_year")?t.push(n):e.push(n)})),[e,t]}(b),L=Object(l.a)(D,2),R=L[0],T=L[1],W=Object(s.a)(T).sort((function(n,e){if(n.publish_year&&e.publish_year){var t=B?0:n.publish_year.length-1,r=B?0:e.publish_year.length-1;return(Number(n.publish_year.sort()[t])-Number(e.publish_year.sort()[r]))*A}return 0})).concat(R);return fetch("https://openlibrary.org/api/volumes/brief/olid/OL30597611M.json").then((function(n){return n.json()})).then(console.log),Object(m.jsxs)(e,{children:[Object(m.jsx)(k,{children:W.slice(N,P).map((function(n,e){return Object(m.jsx)(y,{resultNumber:e+N,book:n},e)}))}),Object(m.jsx)(S,{pageJump:function(n){var e="start"===n.target.value?0:C-1;x(e)},changePage:function(n){var e=Number(n.target.value);(g<C-1&&1===e||g>0&&-1===e)&&x(g+e)},pageCount:C,currentPage:g})]})},F=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,29)).then((function(e){var t=e.getCLS,r=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;t(n),r(n),i(n),o(n),a(n)}))},z=Object(d.a)(_||(_=Object(r.a)(["\n  :root {\n    --backgroundCol: rgb(220,220,220);\n    --backgroundColBright: rgb(240,240,240);\n    --textCol: rgb(60,60,60);\n    --myGrey: rgb(190,190,190);\n    --boxShadow: 0 0 2px 2px rgba(0,0,0,0.1), 3px 3px 3px 3px rgba(0,0,0,0.2);\n    --pad: 2rem;\n    --borad: 2rem;\n    --maxWidth: 1200px;\n  }\n\n  html, body {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    width: 100vw;\n  }\n\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  li {\n    list-style: none;\n  }\n\n  ul {\n    margin: 0;\n    padding: 0;\n  }\n\n  body {\n    background: var(--backgroundCol);\n    color: var(--textCol);\n    font-family: 'Raleway', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    display: flex;\n    justify-content: center;\n  }\n"]))),A=d.b.div(N||(N=Object(r.a)(["\n  width: 100vw;\n  height: 100vh;\n  max-width: var(--maxWidth);\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  grid-template-columns: 1fr;\n"])));c.a.render(Object(m.jsxs)(o.a.StrictMode,{children:[Object(m.jsx)(z,{}),Object(m.jsx)(P,{AppStyles:A})]}),document.getElementById("root")),F()}},[[28,1,2]]]);
//# sourceMappingURL=main.fdfb20dc.chunk.js.map